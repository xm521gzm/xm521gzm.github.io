<h2>How to understand CIDR</h2>

<pre><code>172.17.0.111/20
top 20 change 1 is network part 网络部分
bottom 12 change 0 is host part 主机部分
</code></pre>

<h3>network part:</h3>

<pre><code>11111111 11111111 11110000 00000000
255.255.240.0
</code></pre>

<h3>network address: 网络地址</h3>

<pre><code>172.17.0.111 &quot;AND&quot; with 255.255.240.0

B = 10101100 00010001 00000000 11011110
A = 11111111 11111111 11110000 00000000
C = B &quot;AND&quot; A = 10101100 00010001 00000000 00000000
C = 172.17.0.0
</code></pre>

<h3>broadcast address: 广播地址 = 网络地址后12位变1</h3>

<pre><code>network address bottom 12 change 1 
10101100 00010001 00001111 11111111
D = 172.17.15.255
</code></pre>

<h3>finally:</h3>

<pre><code>172.17.0.1 ~ 172.17.15.254
172.17.0.0 network address
172.17.15.255 broadcast address

</code></pre>

<pre><code class="language-shell">iptables -I INPUT -s 117.133.17.237 -p tcp -m multiport --dports 80,443 -j DROP

</code></pre>

<p>-P	设置默认策略</p>

<p>-F	清空规则链</p>

<p>-L	查看规则链</p>

<p>-A	在规则链的末尾加入新的规则</p>

<p>-I num	在规则链的头部加入新的规则</p>

<p>-D num	删除某一条规则链</p>

<p>-s	匹配来源的ip/MASK</p>

<p>-d	配置目标地址</p>

<p>-i 网卡名称	匹配这块网卡流入的数据</p>

<p>-o 网卡名称	匹配这块网卡流出的数据</p>

<p>-p	匹配协议，例如：TCP，UDP，ICMP</p>

<p>–dport num	匹配目标端口号</p>

<p>–sport num	匹配来源端口号</p>

<p>-j	指定匹配到数据包后的动作，如 ACCEPT、DROP、REJECT等。</p>
